# Описание платежного плагина ИнвойсБокс для CMS Joomla - JoomShoppping 4+

Платёжный модуль для интеграции платёжной системы «ИнвойсБокс» и JoomShoppping 4. Реализована поддержка платёжного API. Протестировано на CMS Joomla 3.7 и компоненте JoomShoppping 4.16.2.

## Установка плагина

1. В админ-панели пройдите в "Компоненты" —> "JoomShoppping" —> "Установка и Обновление". Выберите файл "invoicebox_joomshoppping.zip" и нажмите на кнопку "Загрузить".

## Настройка модуля
1. Перейдите в компонент "JoomShoppping" —> "Опции" —> "Способ оплаты";
1. Выберите способ оплаты "Invoicebox" и перейдите во вкладку "Конфигурация" и заполните следующие поля:
    - "Идентификатор магазина"
    - "Региональный код магазина"
    - "Ключ безопасности магазина"
1. Выберите необходимые статусы заказа в опции "Статус заказа для успешных транзакций";
1. Нажмите на кнопку "Сохранить".

### Специфические настройки 

Тестовый режим - включите его для проведения тестовых платежей, при включении этого режима, вы пройдете все шаги в платежном терминале ИнвойсБокс, но деньги с вашей карты списаны не будут.

Изображения URL - ссылка на картинку, которая выводится вместе с платежной системой. 

Цена - дополнительный сбор (в процентах или фикированная сумма) при выборе данного платежного метода.   

Выберите налог - налоговые правила для данного платежного метода.

### Настройка панели ИнвойсБокс:

1. Для настройки панели управления ИнвойсБокс пройдите по url - https://login.invoicebox.ru/ ;
1. Авторизуйтесь и пройдите в раздел "Мои магазины". "Начало работы" -> "Настройки" -> "Мои магазины";
1. Пройдите по вкладку "Уведомления по протоколу" -> выберите "Тип уведомления" "Оплата/HTTP/Post (HTTP POST запрос с данными оплаты в переменных)"
1. В поле "URL уведомления" укажите:

    `<домен_сайта>/index.php?option=com_jshopping&controller=checkout&task=step7&act=notify&js_paymentclass=invoicebox&no_lang=1&tmpl=component`

1. Сохраните изменения.